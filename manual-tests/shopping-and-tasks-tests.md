# Создание списков покупок и задач
## Создание нового списка покупок участником мероприятия

**Цель:**  
Проверить, что любой участник мероприятия может создать список покупок.

**Предусловия:**  
- Пользователь авторизован в системе  
- Пользователь является участником мероприятия  
- Открыта страница списков покупок: https://giga-chill.ru/events/{event_id}/shopping
  *(где `{event_id}` — ID конкретного мероприятия)*

**Тестовые данные:**  
- Название списка: `Напитки`  
- Описание: `Попить`

**Шаги:**  
1. Убедиться, что вы находитесь на странице списков покупок мероприятия.  
2. Нажать кнопку **"Добавить список"**.  
3. Ввести в поле "Название списка" значение `Напитки`.  
4. Ввести в поле "Описание" значение `Попить`.  
5. Нажать кнопку **"Создать"**.

**Ожидаемый результат:**  
- Создаётся новый список покупок с названием `Напитки`  
- По умолчанию в список добавляется один потребитель — его создатель  
- Список отображается у всех участников мероприятия в разделе **"Списки покупок"**  
- Другие участники не могут редактировать этот список, пока не будут добавлены как потребители
- Список можно редактировать, пока задача, привязанная к списку, не взята в работу

## Добавление потребителей в список покупок

**Цель:**  
Проверить, что участник мероприятия, создавший список покупок, может назначать других участников потребителями этого списка.

**Предусловия:**  
- Пользователь авторизован в системе  
- Пользователь является участником мероприятия  
- Пользователь создал список покупок  
- Открыта страница списков покупок: https://giga-chill.ru/events/{event_id}/shopping
  *(где `{event_id}` — ID конкретного мероприятия)*  
- Пользователи `testUser1` и `testUser2` являются участниками этого мероприятия

**Шаги:**  
1. Убедиться, что вы находитесь на странице списков покупок мероприятия.  
2. Найти созданный список и нажать на кнопку **"Добавить потребителей"**.  
3. Во всплывающем окне поставить галочки напротив пользователей `testUser1` и `testUser2`.  
4. Нажать кнопку **"Сохранить"**.

**Ожидаемый результат:**  
- Пользователи `testUser1` и `testUser2` становятся потребителями указанного списка  
- Все трое (создатель, `testUser1`, `testUser2`) могут:  
  - редактировать список  
  - добавлять или удалять продукты  
  - назначать других потребителями 
- В списке потребителей у списка отображаются имена этих пользователей
- Потребителей можно редактировать, пока задача, привязанная к списку, не взята в работу

## Добавление продуктов в список покупок

**Цель:**  
Проверить, что участник мероприятия, являющийся потребителем в списке покупок, может добавлять продукты.

**Предусловия:**  
- Пользователь авторизован в системе  
- Пользователь является участником мероприятия  
- Пользователь является потребителем в списке покупок (например, список "Напитки")  
- Открыта страница списков покупок: https://giga-chill.ru/events/{event_id}/shopping  
  *(где `{event_id}` — ID конкретного мероприятия)*  

**Тестовые данные:**  
- Название товара: `Кола`  
- Количество: `3`  
- Единица измерения: `л`

**Шаги:**  
1. Убедиться, что вы находитесь на странице списков покупок мероприятия.  
2. Найти нужный список (например, "Напитки") и нажать на него, чтобы развернуть.  
3. Нажать кнопку **"Добавить покупку"**.  
4. В поле "Название товара" ввести `Кола`.  
5. В поле "Количество" ввести `3`.  
6. В поле "Единица измерения" выбрать `л` из выпадающего списка или ввести своё значение (например, `бутылки`).  
7. Нажать кнопку **"Добавить"**.

**Ожидаемый результат:**  
- В списке покупок появляется новая позиция: `Кола 3 л`  
- Добавленный продукт отображается у всех участников мероприятия  
- У всех потребителей списка также появляется возможность отредактировать данную покупку 
- Покупку можно редактировать, пока задача, привязанная к списку, не взята в работу



## Создание задачи со связанным списком покупок и назначением исполнителя

**Цель:**  
Проверить, что участник мероприятия может создать задачу, привязать её к списку покупок и назначить исполнителя.

**Предусловия:**  
- Пользователь авторизован в системе  
- Пользователь является участником мероприятия  
- Пользователь `testUser1` зарегистрирован и также является участником мероприятия  
- На мероприятии уже существует список покупок с названием **"Напитки"**  
- Открыта страница задач: https://giga-chill.ru/events/{event_id}/tasks  
  *(где `{event_id}` — ID конкретного мероприятия)*  

**Тестовые данные:**  
- Название задачи: `Купить напитки`  
- Описание: `купите пожалуйста всё`  
- Исполнитель: `testUser1`  
- Список покупок: `Напитки`

**Шаги:**  
1. Убедиться, что вы находитесь на странице с задачами мероприятия.  
2. Нажать кнопку **"Создать задачу"**.  
3. В поле **"Название задачи"** ввести `Купить напитки`.  
4. В поле **"Описание"** ввести `купите пожалуйста всё`.  
5. В поле **"Срок выполнения"** выбрать дату окончания мероприятия.  
6. В поле **"Исполнитель"** выбрать пользователя `testUser1` из выпадающего списка.  
7. В поле **"Список покупок"** выбрать список `Напитки`.  
8. Нажать кнопку **"Создать"**.

**Ожидаемый результат:**  
- На странице задач появляется новая задача `Купить напитки`  
- В задаче отображается:
  - Назначенный исполнитель: `testUser1`
  - Статус: **"Открыта"**
  - Срок выполнения
- Задача отображается всем участникам мероприятия  
- Только пользователь `testUser1` может взять задачу в исполнение и изменить её статус



## Создание задачи без исполнителя и без привязки к списку покупок

**Цель:**  
Проверить, что участник мероприятия может создать задачу без указания исполнителя и без привязки к списку покупок.

**Предусловия:**  
- Пользователь авторизован в системе  
- Пользователь является участником мероприятия  
- Открыта страница задач: https://giga-chill.ru/events/{event_id}/tasks  
  *(где `{event_id}` — ID конкретного мероприятия)*  

**Тестовые данные:**  
- Название задачи: `Взять плед`  
- Описание: — (пусто)  
- Срок выполнения: дата окончания мероприятия  
- Исполнитель: — (не задан)  
- Список покупок: — (не выбран)

**Шаги:**  
1. Убедиться, что вы находитесь на странице задач мероприятия.  
2. Нажать кнопку **"Создать задачу"**.  
3. В поле **"Название задачи"** ввести `Взять плед`.  
4. Поле **"Описание"** оставить пустым.  
5. В поле **"Срок выполнения"** выбрать дату окончания мероприятия.  
6. Не заполнять поля **"Исполнитель"** и **"Список покупок"**.  
7. Нажать кнопку **"Создать"**.

**Ожидаемый результат:**  
- На странице задач появляется новая задача `Взять плед`  
- В задаче отображается:
  - Статус: **"Открыта"**
  - Срок выполнения  
  - Поля "Исполнитель" и "Список покупок" остаются пустыми  
- Задача видна всем участникам мероприятия  
- Любой участник может взять её в исполнение

